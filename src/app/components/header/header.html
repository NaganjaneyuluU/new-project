<header class="w-full h-38 flex items-center px-18 bg-white shadow-md">
    <div class="flex flex-col grow">
        <div class="flex flex-row flex-grow">
            <div class="flex items-center gap-4 w-auto">
                <img src="pplion-image.jpg" alt="Logo" class="h-20 w-72 hidden sm:block">
                <img src="pplion-favicon.png" alt="Logo" class="h-10 sm:hidden">
            </div>
            <div class="ml-auto flex items-center gap-5">
                <a [attr.href]="'tel:' + contactMobileNumber" class="flex items-center gap-1 cursor-pointer group">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                        class="size-4 text-brand-gray group-hover:text-brand-gray-hover">
                        <path fill-rule="evenodd"
                            d="M1.5 4.5a3 3 0 0 1 3-3h1.372c.86 0 1.61.586 1.819 1.42l1.105 4.423a1.875 1.875 0 0 1-.694 1.955l-1.293.97c-.135.101-.164.249-.126.352a11.285 11.285 0 0 0 6.697 6.697c.103.038.25.009.352-.126l.97-1.293a1.875 1.875 0 0 1 1.955-.694l4.423 1.105c.834.209 1.42.959 1.42 1.82V19.5a3 3 0 0 1-3 3h-2.25C8.552 22.5 1.5 15.448 1.5 6.75V4.5Z"
                            clip-rule="evenodd" />
                    </svg>
                    <p class="text-brand-gray group-hover:text-brand-gray-hover">{{contactMobileNumber}}</p>
                </a>


                <a [attr.href]="'mailto:' + contactEmailAddress" class="flex items-center gap-1 cursor-pointer group">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                        class="size-5 text-brand-gray group-hover:text-brand-gray-hover">
                        <path
                            d="M1.5 8.67v8.58a3 3 0 0 0 3 3h15a3 3 0 0 0 3-3V8.67l-8.928 5.493a3 3 0 0 1-3.144 0L1.5 8.67Z" />
                        <path
                            d="M22.5 6.908V6.75a3 3 0 0 0-3-3h-15a3 3 0 0 0-3 3v.158l9.714 5.978a1.5 1.5 0 0 0 1.572 0L22.5 6.908Z" />
                    </svg>
                    <p class="text-brand-gray group-hover:text-brand-gray-hover">{{contactEmailAddress}}</p>
                </a>

                <a href='https://www.facebook.com/pplionmachinery/' class="flex items-center gap-1 cursor-pointer ">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                        class="size-4 gray-brand hover:brand-gray-hover cursor-pointer">
                        <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12
               c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47
               h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669
               1.312 0 2.686.235 2.686.235v2.953H15.83
               c-1.491 0-1.956.925-1.956 1.874v2.25h3.328
               l-.532 3.47h-2.796v8.385C19.612 23.027
               24 18.062 24 12.073z" />
                    </svg>
                </a>

                <a href='https://www.instagram.com/ppliongmbh/' class="flex items-center gap-1 cursor-pointer ">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 32 32" fill="currentColor"
                        class="size-5 gray-brand hover:brand-gray-hover cursor-pointer">
                        <path
                            d="M20.445 5h-8.891A6.559 6.559 0 0 0 5 11.554v8.891A6.559 6.559 0 0 0 11.554 27h8.891a6.56 6.56 0 0 0 6.554-6.555v-8.891A6.557 6.557 0 0 0 20.445 5zm4.342 15.445a4.343 4.343 0 0 1-4.342 4.342h-8.891a4.341 4.341 0 0 1-4.341-4.342v-8.891a4.34 4.34 0 0 1 4.341-4.341h8.891a4.342 4.342 0 0 1 4.341 4.341l.001 8.891z" />
                        <path
                            d="M16 10.312c-3.138 0-5.688 2.551-5.688 5.688s2.551 5.688 5.688 5.688 5.688-2.551 5.688-5.688-2.55-5.688-5.688-5.688zm0 9.163a3.475 3.475 0 1 1-.001-6.95 3.475 3.475 0 0 1 .001 6.95zM21.7 8.991a1.363 1.363 0 1 1-1.364 1.364c0-.752.51-1.364 1.364-1.364z" />
                    </svg>
                </a>

                <a href='https://www.youtube.com/channel/UCH3KcUrWqD7oyJbSuWdWQvw'
                    class="flex items-center gap-1 cursor-pointer group">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 461.001 461.001" fill="currentColor"
                        class="size-5 gray-brand hover:brand-gray-hover cursor-pointer">
                        <path
                            d="M365.257 67.393H95.744C42.866 67.393 0 110.259 0 163.137v134.728c0 52.878 42.866 95.744 95.744 95.744h269.513c52.878 0 95.744-42.866 95.744-95.744V163.137c0-52.878-42.866-95.744-95.744-95.744zM300.506 237.056l-126.06 60.123c-3.359 1.602-7.239-0.847-7.239-4.568V168.607c0-3.774 3.982-6.22 7.348-4.514l126.06 63.881c3.748 1.899 3.683 7.274-0.109 9.082z" />
                    </svg>
                </a>

                <a href='https://www.linkedin.com/company/ppliongmbh/' class="flex items-center gap-1 cursor-pointer ">
                    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
                        class="size-5 gray-brand hover:brand-gray-hover cursor-pointer">
                        <path
                            d="M18.72 4H5.37c-.172-.008-.344.018-.506.076a1.17 1.17 0 0 0-.438.265 1.16 1.16 0 0 0-.303.412c-.073.156-.115.325-.123.497V18.63c.01.36.158.703.413.958.255.255.598.403.958.412H18.72c.35-.016.68-.168.919-.424.239-.256.368-.595.36-.945V5.25c.003-.167-.028-.334-.092-.489a1.162 1.162 0 0 0-.278-.412 1.17 1.17 0 0 0-.419-.268 1.167 1.167 0 0 0-.49-.081zM9 17.34H6.67V10.21H9v7.13zM7.89 9.13a1.238 1.238 0 0 1-1.221-1.23 1.24 1.24 0 0 1 1.23-1.23c.325-.006.639.12.872.343.234.223.37.528.379.851a1.24 1.24 0 0 1-1.26 1.266zm9.45 8.21H15v-3.9c0-.93-.33-1.57-1.16-1.57-.258.002-.509.084-.718.234a1.24 1.24 0 0 0-.452.606 1.62 1.62 0 0 0-.08.57v4.06h-2.3V10.21h2.3v1c.205-.376.509-.688.88-.901.371-.213.793-.32 1.221-.308 1.51 0 2.65 1 2.65 3.13v4.21z" />
                    </svg>
                </a>

                <a href='https://wa.link/5d6mqu' class="flex items-center gap-1 cursor-pointer ">
                    <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor"
                        viewBox="0 0 24 24" class="size-4 gray-brand hover:brand-gray-hover">
                        <path
                            d="M20.52 3.48A11.89 11.89 0 0 0 12 0C5.37 0 .02 5.34.02 11.94c0 2.1.55 4.15 1.6 5.96L0 24l6.27-1.6a11.93 11.93 0 0 0 5.73 1.46h.01c6.63 0 12-5.36 12-11.94 0-3.19-1.24-6.19-3.48-8.44zM12 21.82h-.01a9.9 9.9 0 0 1-5.04-1.37l-.36-.21-3.72.95.99-3.63-.24-.37a9.9 9.9 0 0 1-1.55-5.3C2.07 6.43 6.54 2 12 2c2.64 0 5.13 1.03 7 2.91 1.87 1.88 2.91 4.38 2.91 7.03 0 5.44-4.46 9.88-9.91 9.88z" />
                        <path
                            d="M17.56 14.33c-.29-.15-1.72-.85-1.99-.94-.27-.1-.47-.15-.66.15-.2.3-.76.94-.93 1.13-.17.2-.34.22-.63.07-.29-.15-1.21-.44-2.3-1.4-.85-.75-1.42-1.68-1.59-1.97-.17-.3-.02-.46.13-.61.13-.13.29-.34.44-.51.15-.17.2-.29.3-.49.1-.2.05-.37-.02-.52-.07-.15-.66-1.59-.91-2.18-.24-.58-.48-.5-.66-.51h-.56c-.2 0-.52.07-.79.37-.27.3-1.04 1.02-1.04 2.49 0 1.46 1.07 2.87 1.22 3.07.15.2 2.1 3.21 5.1 4.5.71.31 1.26.5 1.69.64.71.23 1.36.2 1.87.12.57-.09 1.72-.7 1.96-1.37.24-.67.24-1.25.17-1.37-.07-.12-.26-.2-.55-.35z" />
                    </svg>
                </a>

                <div class="relative inline-block text-left w-14" (mouseenter)="isOpen = true"
                    (mouseleave)="isOpen = false">

                    <div class="flex items-center justify-center rounded-lg p-2 bg-white cursor-pointer outline-none focus:outline-none"
                        tabindex="-1">
                        <img *ngIf="selectedCountry" [src]="getSelectedFlag()" [alt]="selectedCountry"
                            class="w-5 h-4" />
                    </div>
                    <div *ngIf="isOpen"
                        class="absolute w-full bg-white border border-gray-300 mt-1 rounded-lg shadow-lg z-10">
                        <div *ngFor="let country of countries"
                            class="flex justify-center p-2 hover:bg-gray-100 cursor-pointer"
                            (click)="selectCountry(country.id)">
                            <img [src]="country.img" [alt]="country.id" class="w-5 h-4" />
                        </div>
                    </div>
                </div>


                <form class="flex items-center mr-2 border border-gray-300 rounded-full overflow-hidden">
                    <input type="text" placeholder="Search..."
                        class="px-4 py-2 gray-brand outline-none border-none w-56">
                    <button type="submit" class="bg-brand-red p-2 rounded-full flex items-center justify-center">
                        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="CurrentColor"
                            class="size-4 brand-white">
                            <path fill-rule="evenodd"
                                d="M10.5 3.75a6.75 6.75 0 1 0 0 13.5 6.75 6.75 0 0 0 0-13.5ZM2.25 10.5a8.25 8.25 0 1 1 14.59 5.28l4.69 4.69a.75.75 0 1 1-1.06 1.06l-4.69-4.69A8.25 8.25 0 0 1 2.25 10.5Z"
                                clip-rule="evenodd" />
                        </svg>
                    </button>
                </form>

            </div>
        </div>
        <div [ngClass]="{'fixed top-0 left-0 right-0 z-50 shadow-md bg-white': isSticky}"
            class="flex w-full px-10 items-center justify-center py-2">
            <div *ngIf="isSticky" class="flex items-center gap-4 pl-2 w-auto">
                <img src="pplion-image.jpg" alt="Logo" class="h-10 w-32 hidden sm:block">
                <img src="pplion-favicon.png" alt="Logo" class="h-10 sm:hidden">
            </div>
            <nav class="flex gap-6 px-6 py-3">
                <div *ngFor="let item of menuItems" class="relative group">
                    <button
                        class="px-3 py-2 rounded transition flex items-center gap-1 hover:bg-brand-tabs-hover font-semibold text-gray-700 cursor-pointer"
                        [class.bg-gray-200]="activeMenu === item.label" (click)="setActive(item.label, item.route)">
                        {{ item.label }}
                        <span *ngIf="item.submenu?.length">
                            <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"
                                fill="currentColor">
                                <path d="M480-360 280-560h400L480-360Z" />
                            </svg>
                        </span>
                    </button>
                    <div *ngIf="item.submenu?.length" class="absolute top-full left-0 bg-white shadow-lg rounded-md mt-1 min-w-[220px] z-10
                                opacity-0 invisible group-hover:opacity-100 group-hover:visible transition-all duration-200 text-[#666666]">

                        <div *ngFor="let sub of item.submenu; let i = index" class="relative group/sub px-4 py-2 hover:bg-gray-100 cursor-pointer flex justify-between items-center
                                    border-t border-gray-200 text-[#666666]" [class.border-t-0]="i === 0">

                            {{ sub.label }}
                            <span *ngIf="sub.submenu?.length">
                                <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960" width="20"
                                    fill="currentColor">
                                    <path d="M400-280v-400l200 200-200 200Z" />
                                </svg>
                            </span>
                            <div *ngIf="sub.submenu?.length" class="absolute top-0 left-full bg-white shadow-lg rounded-md min-w-[220px] z-20
                                    opacity-0 invisible group-hover/sub:opacity-100 group-hover/sub:visible transition-all duration-200">

                                <div *ngFor="let sub2 of sub.submenu; let j = index" class="relative group/sub2 px-4 py-2 hover:bg-gray-100 cursor-pointer flex justify-between items-center
                                    border-t border-gray-200" [class.border-t-0]="j === 0">

                                    {{ sub2.label }}
                                    <span *ngIf="sub2.submenu?.length">
                                        <svg xmlns="http://www.w3.org/2000/svg" height="20" viewBox="0 -960 960 960"
                                            width="20" fill="currentColor">
                                            <path d="M400-280v-400l200 200-200 200Z" />
                                        </svg>
                                    </span>
                                    <div *ngIf="sub2.submenu?.length"
                                        class="absolute top-0 left-full bg-white shadow-lg rounded-md min-w-[220px] z-30
                                        opacity-0 invisible group-hover/sub2:opacity-100 group-hover/sub2:visible transition-all duration-200">

                                        <div *ngFor="let sub3 of sub2.submenu; let k = index"
                                            class="px-4 py-2 hover:bg-gray-100 cursor-pointer border-t border-gray-200"
                                            [class.border-t-0]="k === 0">
                                            {{ sub3.label }}
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </nav>

            <div *ngIf="isSticky" class="relative inline-block text-left w-14" (mouseenter)="isOpen = true"
                (mouseleave)="isOpen = false">

                <div class="flex items-center justify-center rounded-lg p-2 bg-white cursor-pointer outline-none focus:outline-none"
                    tabindex="-1">
                    <img *ngIf="selectedCountry" [src]="getSelectedFlag()" [alt]="selectedCountry" class="w-5 h-4" />
                </div>
                <div *ngIf="isOpen"
                    class="absolute w-full bg-white border border-gray-300 mt-1 rounded-lg shadow-lg z-10">
                    <div *ngFor="let country of countries"
                        class="flex justify-center p-2 hover:bg-gray-100 cursor-pointer"
                        (click)="selectCountry(country.id)">
                        <img [src]="country.img" [alt]="country.id" class="w-5 h-4" />
                    </div>
                </div>
            </div>

            <svg *ngIf="isSticky" xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px"
                fill="currentColor" class="brand-dark-red">
                <path
                    d="M784-120 532-372q-30 24-69 38t-83 14q-109 0-184.5-75.5T120-580q0-109 75.5-184.5T380-840q109 0 184.5 75.5T640-580q0 44-14 83t-38 69l252 252-56 56ZM380-400q75 0 127.5-52.5T560-580q0-75-52.5-127.5T380-760q-75 0-127.5 52.5T200-580q0 75 52.5 127.5T380-400Z" />
            </svg>
            <div *ngIf="!isSticky" class="ml-auto">
                <button class="bg-black text-white m-3 px-4 py-2 rounded hover:bg-gray-800 cursor-pointer">
                    Submit your Machine
                </button>
            </div>

        </div>
    </div>
</header>