<div class="p-6 bg-brand-white">
  <div class=" flex justify-between mb-4">
    <h2 class="text-2xl font-bold mb-4">{{selectedMachine.name}}</h2>
    <div class="flex items-center">
      <a routerLink="/machines/5-colors" class="text-red-600 hover:underline flex items-center cursor-pointer">
        <svg xmlns="http://www.w3.org/2000/svg" class="h-4 w-4 mr-1" fill="none" viewBox="0 0 24 24"
          stroke="currentColor" class="cursor-pointer size-4">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M15 19l-7-7 7-7" />
        </svg>
        <p class="p-1 font-medium"> Back to 5-Colors</p>
      </a>
    </div>
  </div>

  <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
    <div>
      <img [src]="selectedImage" alt="Main Machine" class="rounded-lg shadow-md w-full h-[400px] object-cover">

      <div class="flex space-x-3 mt-4">
        <img *ngFor="let img of images" [src]="img" (click)="selectedImage = img" [class.ring-2]="selectedImage === img"
          class="w-24 h-20 object-cover rounded-lg cursor-pointer hover:opacity-80 ring-red-500">
      </div>
    </div>

    <div class="bg-white rounded-lg shadow-md p-6">
      <h2 class="text-xl font-bold mb-4 text-brand-card-heading">Details</h2>

      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Reference ID</span>
        <span>{{selectedMachine.referenceId}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Category</span>
        <span>{{selectedMachine.category}}</span>
      </div>

      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Manufacturer</span>
        <span>{{selectedMachine.manufacturer}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Model</span>
        <span>{{selectedMachine.model}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Year</span>
        <span>{{selectedMachine.year}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Color</span>
        <span>5</span>
      </div>

      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Impression</span>
        <span>{{selectedMachine.impression}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Max. Size</span>
        <span>{{selectedMachine.maxSize}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Condition</span>
        <span>{{selectedMachine.condition}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Location</span>
        <span>{{selectedMachine.location}}</span>
      </div>
      <div class="grid grid-cols-2 py-2 text-brand-card-label">
        <span class="font-semibold ">Availability</span>
        <span>{{selectedMachine.availability}}</span>
      </div>
      <div class="flex p-6 items-center justify-between">
        <button class="mt-6 bg-red-700 hover:bg-red-800 text-white px-5 py-2 rounded-lg shadow-md">
          Inquiry
        </button>

        <div class="flex space-x-4 mt-4 text-gray-500">
          <a href='https://www.facebook.com/pplionmachinery/' class="flex items-center gap-1 cursor-pointer ">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
              class="size-5 gray-brand hover:brand-gray-hover cursor-pointer">
              <path d="M24 12.073c0-6.627-5.373-12-12-12s-12 5.373-12 12
               c0 5.99 4.388 10.954 10.125 11.854v-8.385H7.078v-3.47
               h3.047V9.43c0-3.007 1.792-4.669 4.533-4.669
               1.312 0 2.686.235 2.686.235v2.953H15.83
               c-1.491 0-1.956.925-1.956 1.874v2.25h3.328
               l-.532 3.47h-2.796v8.385C19.612 23.027
               24 18.062 24 12.073z" />
            </svg>
          </a>
          <a href='https://www.facebook.com/pplionmachinery/' class="flex items-center gap-1 cursor-pointer ">
            <svg xmlns="http://www.w3.org/2000/svg" fill="currentColor" width="800px" height="800px" viewBox="0 0 32 32"
              class="size-7 cursor-pointer gray-brand hover:brand-gray-hover">
              <path
                d="M11.919 24.94c-2.548 0-4.921-.747-6.919-2.032a9.049 9.049 0 0 0 6.681-1.867 4.512 4.512 0 0 1-4.215-3.137c.276.054.559.082.848.082.412 0 .812-.056 1.193-.156a4.519 4.519 0 0 1-3.622-4.425v-.059a4.478 4.478 0 0 0 2.042.564 4.507 4.507 0 0 1-2.008-3.758c0-.824.225-1.602.612-2.268a12.811 12.811 0 0 0 9.303 4.715 4.517 4.517 0 0 1 7.692-4.115 9.107 9.107 0 0 0 2.866-1.094 4.542 4.542 0 0 1-1.983 2.498 9.08 9.08 0 0 0 2.592-.71 9.283 9.283 0 0 1-2.252 2.337c.008.193.014.388.014.583-.001 5.962-4.542 12.843-12.844 12.842" />
            </svg>
          </a>
          <a href='https://www.linkedin.com/company/ppliongmbh/' class="flex items-center gap-1 cursor-pointer ">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="currentColor"
              class="size-6 gray-brand hover:brand-gray-hover cursor-pointer">
              <path
                d="M18.72 4H5.37c-.172-.008-.344.018-.506.076a1.17 1.17 0 0 0-.438.265 1.16 1.16 0 0 0-.303.412c-.073.156-.115.325-.123.497V18.63c.01.36.158.703.413.958.255.255.598.403.958.412H18.72c.35-.016.68-.168.919-.424.239-.256.368-.595.36-.945V5.25c.003-.167-.028-.334-.092-.489a1.162 1.162 0 0 0-.278-.412 1.17 1.17 0 0 0-.419-.268 1.167 1.167 0 0 0-.49-.081zM9 17.34H6.67V10.21H9v7.13zM7.89 9.13a1.238 1.238 0 0 1-1.221-1.23 1.24 1.24 0 0 1 1.23-1.23c.325-.006.639.12.872.343.234.223.37.528.379.851a1.24 1.24 0 0 1-1.26 1.266zm9.45 8.21H15v-3.9c0-.93-.33-1.57-1.16-1.57-.258.002-.509.084-.718.234a1.24 1.24 0 0 0-.452.606 1.62 1.62 0 0 0-.08.57v4.06h-2.3V10.21h2.3v1c.205-.376.509-.688.88-.901.371-.213.793-.32 1.221-.308 1.51 0 2.65 1 2.65 3.13v4.21z" />
            </svg>
          </a>
          <a href='https://wa.link/5d6mqu' class="flex items-center gap-1 cursor-pointer ">
            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" fill="currentColor" viewBox="0 0 24 24"
              class="size-5 gray-brand hover:brand-gray-hover">
              <path
                d="M20.52 3.48A11.89 11.89 0 0 0 12 0C5.37 0 .02 5.34.02 11.94c0 2.1.55 4.15 1.6 5.96L0 24l6.27-1.6a11.93 11.93 0 0 0 5.73 1.46h.01c6.63 0 12-5.36 12-11.94 0-3.19-1.24-6.19-3.48-8.44zM12 21.82h-.01a9.9 9.9 0 0 1-5.04-1.37l-.36-.21-3.72.95.99-3.63-.24-.37a9.9 9.9 0 0 1-1.55-5.3C2.07 6.43 6.54 2 12 2c2.64 0 5.13 1.03 7 2.91 1.87 1.88 2.91 4.38 2.91 7.03 0 5.44-4.46 9.88-9.91 9.88z" />
              <path
                d="M17.56 14.33c-.29-.15-1.72-.85-1.99-.94-.27-.1-.47-.15-.66.15-.2.3-.76.94-.93 1.13-.17.2-.34.22-.63.07-.29-.15-1.21-.44-2.3-1.4-.85-.75-1.42-1.68-1.59-1.97-.17-.3-.02-.46.13-.61.13-.13.29-.34.44-.51.15-.17.2-.29.3-.49.1-.2.05-.37-.02-.52-.07-.15-.66-1.59-.91-2.18-.24-.58-.48-.5-.66-.51h-.56c-.2 0-.52.07-.79.37-.27.3-1.04 1.02-1.04 2.49 0 1.46 1.07 2.87 1.22 3.07.15.2 2.1 3.21 5.1 4.5.71.31 1.26.5 1.69.64.71.23 1.36.2 1.87.12.57-.09 1.72-.7 1.96-1.37.24-.67.24-1.25.17-1.37-.07-.12-.26-.2-.55-.35z" />
            </svg>
          </a>
        </div>
      </div>
    </div>

  </div>
  <div class="grid grid-cols-1 md:grid-cols-2 gap-6 p-6">
    <div class="bg-brand-description-card-background shadow-md rounded-lg p-6 h-[fit-content] ">
      <h2 class="text-xl font-bold mb-4">Description</h2>
      <ul class="list-disc list-inside text-gray-700 space-y-1">
        <li>5 colors</li>
        <li>Counter: 30 million</li>
        <li>Straight machine</li>
        <li>Rolandmatic damping system</li>
        <li>RCI remote ink and register control</li>
      </ul>
    </div>
    <div class="bg-brand-form-background shadow-md rounded-lg p-6">
      <div class="flex items-center justify-between mb-4">
        <h2 class="text-xl font-bold">Any Questions?</h2>
        <span class="text-gray-400 cursor-pointer" title="Fill the form to ask questions">ℹ️</span>
      </div>

      <div class="flex items-center justify-between mb-6">
        <span class="flex items-center justify-center w-8 h-8 rounded-full" [ngClass]="step === 1
      ? 'border-2 border-red-600 text-red-600'
      : 'border border-gray-400 text-gray-400'">
          1
        </span>

        <div class="flex-1 mx-2" [ngClass]="step === 2 ? 'border-t-2 border-red-600' : 'border-t border-gray-300'">
        </div>

        <span class="flex items-center justify-center w-8 h-8 rounded-full" [ngClass]="step === 2
      ? 'border-2 border-red-600 text-red-600'
      : 'border border-gray-400 text-gray-400'">
          2
        </span>
      </div>

      <form (ngSubmit)="onSubmit(contactForm)" #contactForm="ngForm">
        <div *ngIf="step==1" class="grid grid-cols-1 md:grid-cols-2 gap-4">
          <div>
            <label class="block text-sm font-medium text-gray-700">Name*</label>
            <input type="text" name="name" [(ngModel)]="contactFormData.name" required placeholder="Enter your Name"
              class="w-full placeholder:text-brand-gray shadow bg-brand-inputfield rounded p-3 focus:outline-none" />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">E-Mail*</label>
            <input type="email" name="email" [(ngModel)]="contactFormData.email" required
              placeholder="Enter your E-Mail"
              class="w-full placeholder:text-brand-gray shadow bg-brand-inputfield rounded p-3 focus:outline-none " />

          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Phone Number*</label>
            <input type="text" name="phone" [(ngModel)]="contactFormData.phone" required
              placeholder="Enter your Phone Number"
              class="w-full placeholder:text-brand-gray shadow bg-brand-inputfield rounded p-3 focus:outline-none " />
          </div>
          <div>
            <label class="block text-sm font-medium text-gray-700">Company*</label>
            <input type="text" name="company" [(ngModel)]="contactFormData.company" required
              placeholder="Enter your Company"
              class="w-full placeholder:text-brand-gray shadow bg-brand-inputfield rounded p-3 focus:outline-none " />
          </div>
        </div>
        <div *ngIf="step==2">
          <div>
            <p class="mb-2">Are you a Dealer or Enduser?*</p>
            <div class="flex items-center gap-8"><label>
                <div class="flex items-center">
                  <input type="radio" name="userType" value="dealer" [(ngModel)]="contactFormData.userType" required />
                  <p class="pl-2">Dealer</p>
                </div>
              </label>
              <label>
                <div class="flex items-center">
                  <input type="radio" name="userType" value="endUser" [(ngModel)]="contactFormData.userType" required />
                  <p class="pl-2">End User</p>
                </div>
              </label>
            </div>
          </div>

          <div>
            <label class="block mb-1">Message</label>
            <textarea name="message" [(ngModel)]="contactFormData.message" rows="4"
              placeholder="What would you like to tell us?"
              class="w-full placeholder:text-brand-gray shadow bg-brand-inputfield rounded p-3 focus:outline-none "></textarea>
          </div>

          <div class="flex items-center">
            <input type="checkbox" name="privacy" [(ngModel)]="contactFormData.privacy" required class="mr-2" />
            <label class="font-medium text-brand-gray-hover">I have taken note of the <a
                href="/footer-components/imprint" class="underline">privacy
                policy</a>.</label>
          </div>
          <div class="flex gap-2">
            <button type="submit"
              class="mt-6 bg-gray-400 hover:bg-gray-600 00 text-white px-6 py-2 rounded-md shadow-md"
              (click)="previousStep()">
              Previous
            </button>
            <button type="submit" class="mt-6 bg-red-700 hover:bg-red-800 text-white px-6 py-2 rounded-md shadow-md">
              Submit
            </button>
          </div>

        </div>

        <button *ngIf="step==1" type="submit"
          class="mt-6 bg-red-600 hover:bg-red-700 text-white px-6 py-2 rounded-md shadow-md" (click)="nextStep()">
          Next
        </button>
      </form>
    </div>
  </div>
  <div class="relative w-full overflow-hidden p-6">

    <h2 class="text-2xl font-bold mb-4">Other Machines </h2>

    <div class="flex transition-transform duration-500 ease-in-out"
      [style.transform]="'translateX(-' + currentIndex * (100 / itemsPerPage) + '%)'">

      <div *ngFor="let machine of machines" class="w-full sm:w-1/2 md:w-1/3 lg:w-1/4 flex-shrink-0 px-2">
        <div class="bg-white shadow-md rounded-lg overflow-hidden">
          <img [src]="machine.images[0]" alt="machine" class="w-full h-48 object-cover">
          <div class="p-4">
            <h3 class="font-semibold text-lg">{{ machine.name }}</h3>
            <p><strong>Year:</strong> {{ machine.year }}</p>
            <p><strong>Size:</strong> {{ machine.maxSize }}</p>
          </div>
        </div>
      </div>
    </div>

    <button (click)="prevSlide()"
      class="absolute top-1/2 -left-2 transform -translate-y-1/2 bg-black text-white p-2  text-center rounded">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
        <path d="M400-80 0-480l400-400 71 71-329 329 329 329-71 71Z" />
      </svg>
    </button>

    <button (click)="nextSlide()"
      class="absolute top-1/2 -right-2 transform -translate-y-1/2 bg-black text-white p-2 rounded">
      <svg xmlns="http://www.w3.org/2000/svg" height="24px" viewBox="0 -960 960 960" width="24px" fill="#e3e3e3">
        <path d="m321-80-71-71 329-329-329-329 71-71 400 400L321-80Z" />
      </svg>
    </button>
  </div>
</div>